# Enable rewrite engine//+
RewriteEngine On
RewriteCond %{REQUEST_FILENAME}.html -f//-
RewriteRule ^([^/]+)/$ $1.html [L]//-
//+
# Set the base for rewrites to the root directory//+
RewriteBase ///+
//+
# Redirect www to non-www//+
RewriteCond %{HTTP_HOST} ^www\.(.*)$ [NC]//+
RewriteRule ^(.*)$ https://%1/$1 [R=301,L]//+
//+
# Redirect HTTP to HTTPS//+
RewriteCond %{HTTPS} off//+
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]//+
//+
# Remove trailing slashes//+
RewriteCond %{REQUEST_FILENAME} !-d//+
RewriteRule ^(.*)/$ /$1 [L,R=301]//+
//+
# Handle subdirectory index pages
RewriteRule ^(contact|portfolio|about)/?$ /$1/index.html [L]
//+
# Rewrite rule to serve HTML files without the .html extension//+
RewriteCond %{REQUEST_FILENAME} !-f//+
RewriteCond %{REQUEST_FILENAME} !-d//+
RewriteRule ^([^\.]+)$ $1.html [NC,L]//+
//+
# Custom error pages//+
ErrorDocument 404 /404.html//+
ErrorDocument 500 /500.html//+
//+
# Prevent directory listing//+
Options -Indexes//+
//+
# Enable gzip compression//+
<IfModule mod_deflate.c>//+
  AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css text/javascript application/javascript application/x-javascript//+
</IfModule>//+
//+
# Set browser caching//+
<IfModule mod_expires.c>//+
  ExpiresActive On//+
  ExpiresByType image/jpg "access plus 1 year"//+
  ExpiresByType image/jpeg "access plus 1 year"//+
  ExpiresByType image/gif "access plus 1 year"//+
  ExpiresByType image/png "access plus 1 year"//+
  ExpiresByType text/css "access plus 1 month"//+
  ExpiresByType application/pdf "access plus 1 month"//+
  ExpiresByType text/x-javascript "access plus 1 month"//+
  ExpiresByType application/x-shockwave-flash "access plus 1 month"//+
  ExpiresByType image/x-icon "access plus 1 year"//+
  ExpiresDefault "access plus 2 days"//+
</IfModule>//+